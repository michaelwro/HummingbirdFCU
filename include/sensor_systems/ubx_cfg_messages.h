

#pragma once


#include <Arduino.h>

// ----------------------------------------------------------------------------
// UBX -> CFG -> PRT
// ----------------------------------------------------------------------------
/**
 * Baud rate and protocol settings
 */
constexpr size_t UBX_CFG_PRTLEN = 28;  // Length of baud rate messages

// UBX CFG message to set UART1 baud to 9600, NMEA out
constexpr uint8_t UBX_CFG_PRT_9600B[UBX_CFG_PRTLEN] = {
    0xB5,0x62,0x06,0x00,0x14,0x00,0x01,0x00,0x00,0x00,0xD0,0x08,0x00,0x00,0x80,
    0x25,0x00,0x00,0x07,0x00,0x02,0x00,0x00,0x00,0x00,0x00,0xA1,0xAF
};

// UBX CFG message to set UART1 baud to 38400, NMEA out
constexpr uint8_t UBX_CFG_PRT_38400B[UBX_CFG_PRTLEN] = {
    0xB5,0x62,0x06,0x00,0x14,0x00,0x01,0x00,0x00,0x00,0xD0,0x08,0x00,0x00,0x00,
    0x96,0x00,0x00,0x07,0x00,0x02,0x00,0x00,0x00,0x00,0x00,0x92,0x8A
};

// UBX CFG message to set UART1 baud to 115200, NMEA out
constexpr uint8_t UBX_CFG_PRT_115200B[UBX_CFG_PRTLEN] = {
    0xB5,0x62,0x06,0x00,0x14,0x00,0x01,0x00,0x00,0x00,0xD0,0x08,0x00,0x00,0x00,
    0xC2,0x01,0x00,0x07,0x00,0x02,0x00,0x00,0x00,0x00,0x00,0xBF,0x78
};

// UBX CFG message to set UART1 baud to 230400, NMEA out
constexpr uint8_t UBX_CFG_PRT_230400B[UBX_CFG_PRTLEN] = {
    0xB5,0x62,0x06,0x00,0x14,0x00,0x01,0x00,0x00,0x00,0xD0,0x08,0x00,0x00,0x00,
    0x84,0x03,0x00,0x07,0x00,0x02,0x00,0x00,0x00,0x00,0x00,0x83,0xE2
};


// ----------------------------------------------------------------------------
// UBX -> CFG -> GNSS
// ----------------------------------------------------------------------------
/**
 * GNSS network configuration. Select either GPS, GLONASS, or GPS+GLONASS
 */

constexpr size_t UBX_CFG_GNSSLEN = 68;  // Length of GNSS config messages

// UBX CFG message to configure and enable GPS, SBAS, and QZSS
constexpr uint8_t UBX_CFG_GNSS_GPS[UBX_CFG_GNSSLEN] = {
    0xB5,0x62,0x06,0x3E,0x3C,0x00,0x00,0x00,0x20,0x07,0x00,0x08,0x10,0x00,0x01,
    0x00,0x01,0x01,0x01,0x01,0x03,0x00,0x01,0x00,0x01,0x01,0x02,0x04,0x08,0x00,
    0x00,0x00,0x01,0x01,0x03,0x08,0x10,0x00,0x00,0x00,0x01,0x01,0x04,0x00,0x08,
    0x00,0x00,0x00,0x01,0x01,0x05,0x00,0x03,0x00,0x01,0x00,0x01,0x01,0x06,0x08,
    0x0E,0x00,0x00,0x00,0x01,0x01,0x2E,0x85
};

// UBX CFG message to configure and enable GLONASS, SBAS, and QZSS
constexpr uint8_t UBX_CFG_GNSS_GLONASS[UBX_CFG_GNSSLEN] = {
    0xB5,0x62,0x06,0x3E,0x3C,0x00,0x00,0x00,0x20,0x07,0x00,0x08,0x10,0x00,0x00,
    0x00,0x01,0x01,0x01,0x01,0x03,0x00,0x01,0x00,0x01,0x01,0x02,0x04,0x08,0x00,
    0x00,0x00,0x01,0x01,0x03,0x08,0x10,0x00,0x00,0x00,0x01,0x01,0x04,0x00,0x08,
    0x00,0x00,0x00,0x01,0x01,0x05,0x00,0x03,0x00,0x01,0x00,0x01,0x01,0x06,0x08,
    0x0E,0x00,0x01,0x00,0x01,0x01,0x2E,0x55
};

// UBX CFG message to configure and enable GPS, SBAS, QZSS, and GLONASS
constexpr uint8_t UBX_CFG_GNSS_GPS_GLONASS[UBX_CFG_GNSSLEN] = {
    0xB5,0x62,0x06,0x3E,0x3C,0x00,0x00,0x00,0x20,0x07,0x00,0x08,0x10,0x00,0x01,
    0x00,0x01,0x01,0x01,0x01,0x03,0x00,0x01,0x00,0x01,0x01,0x02,0x04,0x08,0x00,
    0x00,0x00,0x01,0x01,0x03,0x08,0x10,0x00,0x00,0x00,0x01,0x01,0x04,0x00,0x08,
    0x00,0x00,0x00,0x01,0x01,0x05,0x00,0x03,0x00,0x01,0x00,0x01,0x01,0x06,0x08,
    0x0E,0x00,0x01,0x00,0x01,0x01,0x2F,0x89
};


// ----------------------------------------------------------------------------
// UBX -> CFG -> NAV5
// ----------------------------------------------------------------------------
/**
 * Dynamic model and fix type configuration
 */

constexpr size_t UBX_CFG_NAV5LEN = 44;  // Length of NAV5 config messages

// UBX CFG message to set portable dynamic model and 3D fix only
constexpr uint8_t UBX_CFG_NAV5_PORTABLE_3D[UBX_CFG_NAV5LEN] = {
    0xB5,0x62,0x06,0x24,0x24,0x00,0xFF,0xFF,0x00,0x02,0x00,0x00,0x00,0x00,0x10,
    0x27,0x00,0x00,0x05,0x00,0xFA,0x00,0xFA,0x00,0x64,0x00,0x5E,0x01,0x00,0x3C,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7D,0x1B
};

// UBX CFG message to set pedestrian dynamic model and 3D fix only
constexpr uint8_t UBX_CFG_NAV5_PEDESTRIAN_3D[UBX_CFG_NAV5LEN] = {
    0xB5,0x62,0x06,0x24,0x24,0x00,0xFF,0xFF,0x03,0x02,0x00,0x00,0x00,0x00,0x10,
    0x27,0x00,0x00,0x05,0x00,0xFA,0x00,0xFA,0x00,0x64,0x00,0x5E,0x01,0x00,0x3C,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x81
};

// UBX CFG message to set Airborne <1G dynamic model and 3D fix only
constexpr uint8_t UBX_CFG_NAV5_AIR1G_3D[UBX_CFG_NAV5LEN] = {
    0xB5,0x62,0x06,0x24,0x24,0x00,0xFF,0xFF,0x06,0x02,0x00,0x00,0x00,0x00,0x10,
    0x27,0x00,0x00,0x05,0x00,0xFA,0x00,0xFA,0x00,0x64,0x00,0x5E,0x01,0x00,0x3C,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x83,0xE7
};


// ----------------------------------------------------------------------------
// UBX -> CFG -> RATE
// ----------------------------------------------------------------------------
/**
 * Navigation rate configuration
 */

constexpr size_t UBX_CFG_RATELEN = 14;  // Length of RATE config messages

// UBX CFG message to set nav. rate to 1Hz GPS time
// constexpr uint8_t UBX_CFG_RATE_1HZ[14] = {
//     0xB5,0x62,0x06,0x08,0x06,0x00,0xE8,0x03,0x01,0x00,0x01,0x00,0x01,0x39
// };

// UBX CFG message to set nav. rate to 5Hz GPS time
constexpr uint8_t UBX_CFG_RATE_5HZ[UBX_CFG_RATELEN] = {
    0xB5,0x62,0x06,0x08,0x06,0x00,0xC8,0x00,0x01,0x00,0x01,0x00,0xDE,0x6A
};

// UBX CFG message to set nav. rate to 10Hz GPS time
constexpr uint8_t UBX_CFG_RATE_10HZ[UBX_CFG_RATELEN] = {
    0xB5,0x62,0x06,0x08,0x06,0x00,0x64,0x00,0x01,0x00,0x01,0x00,0x7A,0x12
};


// ----------------------------------------------------------------------------
// UBX -> CFG -> MSG
// ----------------------------------------------------------------------------
/**
 * Output message configuration. Disables unnecessary messages.
 */

constexpr size_t UBX_CFG_MSGLEN = 16;  // Length of RATE config messages

// UBX CFG message to disable GxGLL NMEA messagess
constexpr uint8_t UBX_CFG_MSG_DISABLE_GLL[UBX_CFG_MSGLEN] = {
    0xB5,0x62,0x06,0x01,0x08,0x00,0xF0,0x01,0x01,0x00,0x00,0x01,0x01,0x00,
    0x03,0x35
};

// UBX CFG message to disable GxGSV NMEA messages
constexpr uint8_t UBX_CFG_MSG_DISABLE_GSV[UBX_CFG_MSGLEN] = {
    0xB5,0x62,0x06,0x01,0x08,0x00,0xF0,0x03,0x01,0x00,0x00,0x01,0x01,0x00,
    0x05,0x43
};

// UBX CFG message to disable GxRMC NMEA messages
constexpr uint8_t UBX_CFG_MSG_DISABLE_RMC[UBX_CFG_MSGLEN] = {
    0xB5,0x62,0x06,0x01,0x08,0x00,0xF0,0x04,0x01,0x00,0x00,0x01,0x01,0x00,
    0x06,0x4A
};
